pipeline {
    agent any
    stages {
        stage('Checkout') {
            steps {
                echo 'Mengambil kode dari GitHub...'
            }
        }
        stage('Build') {
            steps {
                echo 'Sedang mengompilasi aplikasi di dalam folder proyek...'
                // Pindah folder (dir) terlebih dahulu sebelum menjalankan mvnw
                dir('belajar-spring-dasar') {
                    bat 'mvnw.cmd clean compile'
                }
            }
        }
        stage('Test') {
            steps {
                echo 'Sedang menjalankan unit testing...'
                dir('belajar-spring-dasar') {
                    bat 'mvnw.cmd test'
                }
            }
        }
    }
}